{% extends "layout.html" %} {% block head %}
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bootstrap demo</title>
<script
  src="https://code.jquery.com/jquery-3.6.1.js"
  integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"
></script>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
  crossorigin="anonymous"
/>
<style>
  .left-all {
    padding: 0px;
    color: white;
    background-color: black;
    height: 600px;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .right-all {
    padding: 0;
    background-color: green;
    height: 600px;
  }

  .title1 {
    background-color: blue;
    height: 100px;

    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
  }

  .title2 {
    background-color: yellow;
    height: 420px;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .title3 {
    padding: 10px;
    background-color: red;
    height: 80px;

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: end;
  }

  .btn {
    margin-left: 10px;
  }

  .titlestr {
    color: wheat;
  }

  #article div img {
    object-fit: cover;
  }

  .content-wrap {
    width: auto;
    max-width: 1200px;
  }

  body {
    background-color: #edf1f5;
    margin-top: 20px;
  }
  .card {
    margin-bottom: 30px;
  }
  .card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid transparent;
    border-radius: 0;
  }
  .card .card-subtitle {
    font-weight: 300;
    margin-bottom: 10px;
    color: #8898aa;
  }
  .table-product.table-striped tbody tr:nth-of-type(odd) {
    background-color: #f3f8fa !important;
  }
  .table-product td {
    border-top: 0px solid #dee2e6 !important;
    color: #728299 !important;
  }
  .container {
    margin-top: 10rem;
  }
  .article-img {
    width: 100%;
  }
</style>
<script>
  const id = '{{ articleId }}';

  $(document).ready(function () {
    show_post();
  });

  function show_post() {
    $.ajax({
      type: 'GET',
      url: `/api/article/${id}`,
      data: {},
      success: function (response) {
        const { title, content, image } = response.result;

        const temp_html = `
        <div class="col-lg-5 col-md-5 col-sm-6">
          <div class="white-box text-center">
            <img
              class="article-img"
              src="${image}"
              class="img-responsive"
            />
          </div>
        </div>
        <div
          class="col-lg-7 col-md-7 col-sm-6 d-flex flex-column justify-content-between"
        >
          <div>
            <h4 class="box-title mt-2">${title}</h4>
            <p>${content}</p>
          </div>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-info fix">수정</button>
            <button
              type="button"
              onclick="delete_post()"
              id="delete_btn"
              class="btn btn-dark dark"
            >
              삭제
            </button>
          </div>
        </div>
        `;

        $('#article').append(temp_html);
      },
    });
  }

  function delete_post() {
    $.ajax({
      type: 'DELETE',
      url: `/api/article/${id}`,
      data: {},
      success: function (response) {
        location.href = '/';
      },
    });
  }

  function edit_post() {
    location.href = '/rewrite/{{id}}';
  }
</script>
{% endblock %} {% block contents %}

<link
  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  rel="stylesheet"
/>

<div class="container">
  <div class="card">
    <div class="card-body">
      <div class="row" id="article"></div>
    </div>
  </div>
</div>
{% endblock %}

<!-- {% if loggedIn %} -->

<!-- {% else %} -->
<!-- <button onclick="location.href='/'" type="button" class="btn btn-secondary">나가기</button> -->
<!-- {% endif %} -->
